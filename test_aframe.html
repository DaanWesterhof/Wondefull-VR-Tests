<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>


    <script>
        AFRAME.registerComponent("start_thing", {
        init: function() {
            let anim = document.querySelectorAll('#anim_listener')
    
            this.el.addEventListener("click", (e) => {
                console.log("hello")
                for (let i = 0; i < anim.length; i++) {
                // Do something with entities.
                    anim[i].emit("start_pressed", {}, false)
                }
                
            })
    
        }
        })
    
    </script>
    <script>
        AFRAME.registerComponent("stop_thing", {
        init: function() {
            let anim = document.querySelectorAll('#anim_listener')

            this.el.addEventListener("click", (e) => {
                console.log("hello")
                for (let i = 0; i < anim.length; i++) {
                // Do something with entities.
                    anim[i].emit("stop_pressed", {}, false)
                }
                
            })

        }
        })

    </script>
</head>

  </head>
  <body>
    <a-scene cursor="rayOrigin:mouse">
      <a-box position="-10 0.25 0" rotation="0 0 0" scale="0.5 0.5 20" color="#4CC3D9"></a-box>
      <a-box position="10 0.25 0" rotation="0 0 0" scale="0.5 0.5 20" color="#4CC3D9"></a-box>
      <a-box position="0 0.25 -9.75" rotation="0 0 0" scale="20 0.5 0.5" color="#4CC3D9"></a-box>
      <a-box position="0 0.25 9.75" rotation="0 0 0" scale="20 0.5 0.5" color="#4CC3D9"></a-box>


      <a-box position="0 0.5 -5" rotation="0 0 0" scale="0.3 1 0.3" color="#050505"></a-box>
      <a-box position="0 1 -5" rotation="0 0 0" scale="0.2 0.2 0.2" color="tomato" start_thing class="clickable" ></a-box>

      <a-box position="0.5 0.5 -5" rotation="0 0 0" scale="0.3 1 0.3" color="#050505"></a-box>
      <a-box position="0.5 1 -5" rotation="0 0 0" scale="0.2 0.2 0.2" color="tomato" stop_thing class="clickable" ></a-box>

      <a-cylinder position="0 0.2 0" radius="2.5" height="0.2" color="#EF2D5E"></a-cylinder>

      <a-cylinder src="https://previews.123rf.com/images/dyxond/dyxond1611/dyxond161100023/66393202-abstract-colorful-pattern-rainbow-color-spectrum-multicolor-wavy-texture-background-seamless-illustr.jpg" position="0 1.5 -8" radius="1" height="3" animation="property: object3D.rotation.y; to: 360; easing: linear; dur: 5000; loop: true"></a-cylinder>
      <a-torus id="anim_listener" src="https://www.toptal.com/designers/subtlepatterns/patterns/oriental-tiles.png" position="0 0.5 -8" rotation="90 0 0" radius="1.3" radius-tubular="0.08" 
            animation="property: object3D.position.y; from: 0.5; to: 2.5; easing: easeInOutQuad; dir: alternate; dur: 2000; loop: true; startEvents: start_pressed; resumeEvents: start_pressed; pauseEvents: stop_pressed"
            animation__2="property: object3D.rotation.z; from: 0; to: 360; easing: linear; dur: 2000; loop: true; startEvents: start_pressed; resumeEvents: start_pressed; pauseEvents: stop_pressed"
            >
      </a-torus>


      <a-plane position="0 0.045 0" rotation="-90 0 0" width="20" height="20" color="#7BC8A4"></a-plane>
      <a-entity environment="preset: forest; dressingAmount: 500"></a-entity>
      <a-sky color="#ECECEC"></a-sky>

    </a-scene>
  </body>
</html>